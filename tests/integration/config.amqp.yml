# Integration test configuration for AMQP pipeline.
log_level: "info"
logger: "plain"
sled_path: "/tmp/integration_test_db_amqp"
dedup_ttl_seconds: 60

routes:
  file_to_amqp:
    in:
      file: { path: "/tmp/input.log" }
    out:
      amqp: { url: "amqp://guest:guest@localhost:5672/%2f", queue: "test_queue_amqp", await_ack: true  }

  amqp_to_file:
    in:
      amqp: { url: "amqp://guest:guest@localhost:5672/%2f", queue: "test_queue_amqp", await_ack: true  }
    out:
      file: { path: "/tmp/output_amqp.log" }